<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quran Player - Loading...</title>
    
    <meta name="description" content="Listen to the Noble Quran verse by verse. Get Arabic text with English, Spanish, Chinese, and Indonesian translations. Features reciter selection and audio translation.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#000000">

    <link rel="canonical" href="https://muslim1446.github.io/">

    <meta property="og:title" content="Quran Player">
    <meta property="og:description" content="Verse-by-verse Quran player with translations and audio.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://muslim1446.github.io/">
    <meta property="og:image" content="https://muslim1446.github.io/social-preview.jpg">

    <link href="data:image/svg+xml,<svg xmlns=%22http://www.w.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“–</text></svg>" rel="icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Aref+Ruqaa+Ink:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BR6YH9S6MS"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-BR6YH9S6MS', { 'send_page_view': false }); // We will handle page views manually
    </script>

    <style>
        /* --- Base & Reset --- */
        :root { --vh: 100vh; --accent: #00AFFF; }
        html { box-sizing: border-box; font-size: 62.5%; }
        *, *::before, *::after { box-sizing: inherit; margin: 0; padding: 0; }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000;
            color: #ffffff;
            line-height: 1.6;
            font-size: 1.6rem;
            overscroll-behavior: none;
            overflow: hidden;
            height: var(--vh);
        }

        /* --- Loading Screen --- */
        #loading-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: #050505;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease-out, visibility 0.5s;
        }
        .loader-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255,255,255,0.1);
            border-radius: 50%;
            border-top-color: var(--accent);
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 2rem;
        }
        .loader-text {
            font-size: 1.8rem;
            color: #888;
            letter-spacing: 1px;
            animation: pulse 2s infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        @keyframes pulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }
        
        body.loaded #loading-overlay {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        /* --- Layout --- */
        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            padding: 2rem;
            padding-bottom: 12rem;
        }

        /* --- Typography & Content --- */
        #content-display {
            text-align: center;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden; 
            position: relative;
        }

        #chapter-title {
            font-size: clamp(1.4rem, 2.5vw, 2.4rem);
            font-weight: 600;
            color: #888;
            position: fixed;
            top: 2rem; left: 2rem;
            z-index: 100;
            opacity: 0; /* Hidden until loaded */
            transition: opacity 0.5s;
        }
        body.loaded #chapter-title { opacity: 1; }

        #verse-text, #verse-text-next { 
            filter: invert(1); 
            width: 100%;
            max-width: 1200px;
            height: auto;
            object-fit: contain;
            flex-grow: 0; flex-shrink: 1;
            max-height: 55%;
            margin-bottom: 2rem;
            transition: opacity 0.3s ease;
            will-change: opacity;
        }

        #translation-text {
            font-family: 'Inter', sans-serif;
            font-weight: 300;
            color: #e0e0e0;
            line-height: 1.6;
            flex-grow: 0; flex-shrink: 1;
            max-height: 35%;
            overflow-y: auto; /* Allow text scroll if too long */
            white-space: pre-wrap;
            text-align: center;
            padding: 0 1rem;
            scrollbar-width: none; /* Hide scrollbar Firefox */
        }
        #translation-text::-webkit-scrollbar { display: none; }

        /* --- Control Panel --- */
        #control-panel {
            position: fixed; bottom: 0; left: 0; right: 0;
            display: flex; justify-content: center; align-items: center;
            flex-wrap: wrap; gap: 1.5rem; padding: 2rem;
            background-color: rgba(15, 15, 15, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-top: 1px solid rgba(255, 255, 255, 0.08);
            transition: transform 0.4s ease, opacity 0.4s ease;
            z-index: 100;
        }
        
        body.idle #control-panel { transform: translateY(100%); opacity: 0; pointer-events: none; }

        select {
            font-family: 'Inter', sans-serif;
            font-size: 1.4rem;
            padding: 1rem 3rem 1rem 1.2rem;
            background-color: #222;
            color: #fff;
            border: 1px solid #444;
            border-radius: 8px;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='gray' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            transition: border-color 0.2s, box-shadow 0.2s;
            max-width: 200px;
        }
        select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(0, 175, 255, 0.2);
        }

        /* --- Audio Elements (Hidden) --- */
        audio { display: none; }

    </style>
</head>

<body>
    <div id="loading-overlay">
        <div class="loader-spinner"></div>
        <div class="loader-text">Initializing Quran Player...</div>
    </div>

    <div class="container">
        <audio id="audio-player"></audio>
        <audio id="translation-audio-player"></audio>

        <h1 id="chapter-title"></h1>
        
        <div id="content-display">
            <img id="verse-text" alt="Arabic Verse">
            <img id="verse-text-next" style="display:none; position:absolute; top:0; left:0;">
            <div id="translation-text"></div>
        </div>
    </div>

    <div id="control-panel">
        <select id="chapterSelect" aria-label="Select Chapter"></select>
        <select id="verseSelect" aria-label="Select Verse"></select>
        <select id="translationSelect" aria-label="Select Translation"></select>
        <select id="reciterSelect" aria-label="Select Reciter"></select>
        <select id="translationAudioSelect" aria-label="Select Audio Translation"></select>
    </div>

    <script>
        // ==========================================
        // CONFIGURATION & CONSTANTS
        // ==========================================
        const CONFIG = {
            // Mapping browser language codes to our IDs
            LANG_MAP: { 'es': 'es', 'id': 'id', 'zh': 'zh', 'en': 'en', 'fr': 'fr', 'tr': 'tr', 'ru': 'ru', 'ur': 'ur' },
            DEFAULT_TRANS: 'en',
            DEFAULT_RECITER: 'alafasy',
            FTT_URL: 'https://raw.githubusercontent.com/muslim1446/muslim1446.github.io/refs/heads/master/a/FTT.XML',
            JSON_URL: 'https://raw.githubusercontent.com/muslim1446/muslim1446.github.io/refs/heads/master/a/2TM3TM.json'
        };

        const TRANSLATIONS_CONFIG = {
            'en': { name: 'English (Saheeh Intl)', url: 'https://raw.githubusercontent.com/muslim1446/muslim1446.github.io/refs/heads/master/a/en.sahih.xml' },
            'es': { name: 'Spanish (Isa GarcÃ­a)', url: 'https://raw.githubusercontent.com/muslim1446/muslim1446.github.io/refs/heads/master/a/es.garcia.xml' },
            'zh': { name: 'Chinese (Ma Jian)', url: 'https://raw.githubusercontent.com/muslim1446/muslim1446.github.io/refs/heads/master/a/zh.jian.xml' },
            'id': { name: 'Indonesian (Kemenag)', url: 'https://raw.githubusercontent.com/muslim1446/muslim1446.github.io/refs/heads/master/a/id.indonesian.xml' },
            'fr': { name: 'French (Hamidullah)', url: 'https://raw.githubusercontent.com/muslim1446/muslim1446.github.io/refs/heads/master/a/fr.hamidullah.xml' },
            'ur': { name: 'Urdu (Junagarhi)', url: 'https://raw.githubusercontent.com/muslim1446/muslim1446.github.io/refs/heads/master/a/ur.junagarhi.xml' },
            'tr': { name: 'Turkish (Diyanet)', url: 'https://raw.githubusercontent.com/muslim1446/muslim1446.github.io/refs/heads/master/a/tr.diyanet.xml' },
            'ru': { name: 'Russian (Kuliev)', url: 'https://raw.githubusercontent.com/muslim1446/muslim1446.github.io/refs/heads/master/a/ru.kuliev.xml' },
            // ... (You can add the rest of your long list here)
        };

        const RECITERS_CONFIG = {
            'alafasy': { name: 'Mishary Alafasy', path: 'Alafasy_128kbps' },
            'juhaynee': { name: 'Al Juhany', path: 'Abdullaah_3awwaad_Al-Juhaynee_128kbps' },
            'sudais': { name: 'As Sudais', path: 'Abdurrahmaan_As-Sudais_192kbps' },
            'ghamadi': { name: 'Al Ghamdi', path: 'Ghamadi_40kbps' },
            'muaiqly': { name: 'Al Muaiqly', path: 'MaherAlMuaiqly128kbps' },
            'basit': { name: 'Abdul Basit', path: 'Abdul_Basit_Murattal_192kbps' }
        };

        const TRANSLATION_AUDIO_CONFIG = {
            'none': { name: 'No Audio Translation' },
            'en_walk': { name: 'English (Ibrahim Walk)', path: 'English/Sahih_Intnl_Ibrahim_Walk_192kbps' },
            'id_ministry': { name: 'Indonesian (Ministry)', path: 'httpIA://dn721906.ca.archive.org/0/items/AlQuran-terjemahan-indonesia-tanpa-bahasa-arab' }
        };

        // ==========================================
        // STATE MANAGEMENT
        // ==========================================
        const elements = {
            loader: document.getElementById('loading-overlay'),
            quranAudio: document.getElementById('audio-player'),
            transAudio: document.getElementById('translation-audio-player'),
            selects: {
                chapter: document.getElementById('chapterSelect'),
                verse: document.getElementById('verseSelect'),
                trans: document.getElementById('translationSelect'),
                reciter: document.getElementById('reciterSelect'),
                transAudio: document.getElementById('translationAudioSelect')
            },
            display: {
                title: document.getElementById('chapter-title'),
                verse: document.getElementById('verse-text'),
                verseNext: document.getElementById('verse-text-next'),
                trans: document.getElementById('translation-text'),
                container: document.getElementById('content-display')
            }
        };

        let state = {
            quranData: [],
            translations: {},
            forbiddenVerses: new Set(),
            currentChapter: 0,
            currentVerse: 0,
            isPlaying: false
        };

        let inactivityTimer;

        // ==========================================
        // INITIALIZATION
        // ==========================================
        
        async function initializeApp() {
            try {
                // 1. Load Essential Data
                const [jsonResp, fttResp] = await Promise.all([
                    fetch(CONFIG.JSON_URL),
                    fetch(CONFIG.FTT_URL)
                ]);

                const jsonData = await jsonResp.json();
                state.quranData = jsonData.chapters;

                // Process FTT
                const fttText = await fttResp.text();
                const parser = new DOMParser();
                const fttDoc = parser.parseFromString(fttText, "text/xml");
                fttDoc.querySelectorAll('Verse').forEach(v => {
                    state.forbiddenVerses.add(`${v.getAttribute('chapter')?.trim()}-${v.getAttribute('number')?.trim()}`);
                });

                // 2. Load Translations
                await loadTranslations();

                // 3. Populate UI Controls
                populateSelects();

                // 4. Determine Initial State (URL -> Storage -> Auto-Detect -> Default)
                restoreState();

                // 5. Initial Render
                loadVerse(false); // false = don't auto-play on load
                
                // 6. Reveal UI
                document.body.classList.add('loaded');
                setupEventListeners();
                
            } catch (error) {
                console.error("Critical Init Error:", error);
                document.querySelector('.loader-text').textContent = "Error loading content. Please refresh.";
            }
        }

        async function loadTranslations() {
            // Only fetch a few major ones initially to speed up load? 
            // For now, fetching all defined in CONFIG.
            const promises = Object.entries(TRANSLATIONS_CONFIG).map(async ([id, config]) => {
                try {
                    const res = await fetch(config.url);
                    if (!res.ok) return null;
                    const txt = await res.text();
                    return { id, xml: new DOMParser().parseFromString(txt, "text/xml") };
                } catch (e) { return null; }
            });

            const results = await Promise.all(promises);
            results.forEach(r => {
                if (r) state.translations[r.id] = r.xml;
            });
        }

        // ==========================================
        // INTELLIGENT STATE LOGIC
        // ==========================================

        function restoreState() {
            const urlParams = new URLSearchParams(window.location.search);
            const storage = JSON.parse(localStorage.getItem('quranPlayerState')) || {};
            
            // 1. Chapter & Verse
            // URL ?chapter=1&verse=1
            if (urlParams.has('chapter')) state.currentChapter = parseInt(urlParams.get('chapter')) - 1; // 0-indexed
            else if (storage.chapter !== undefined) state.currentChapter = storage.chapter;
            
            // Ensure bounds
            if (state.currentChapter < 0) state.currentChapter = 0;
            state.quranData[state.currentChapter] ? null : state.currentChapter = 0;

            elements.selects.chapter.value = state.currentChapter;
            populateVerseSelect(); // Must run to populate verse dropdown

            if (urlParams.has('verse')) state.currentVerse = parseInt(urlParams.get('verse')) - 1;
            else if (storage.verse !== undefined) state.currentVerse = storage.verse;
            
            elements.selects.verse.value = state.currentVerse;

            // 2. Translation (Auto-Detect Logic)
            let targetLang = CONFIG.DEFAULT_TRANS;
            
            // Check URL
            if (urlParams.has('trans') && TRANSLATIONS_CONFIG[urlParams.get('trans')]) {
                targetLang = urlParams.get('trans');
            } 
            // Check Storage
            else if (storage.trans && TRANSLATIONS_CONFIG[storage.trans]) {
                targetLang = storage.trans;
            } 
            // Check Browser
            else {
                const browserLang = navigator.language.split('-')[0];
                if (CONFIG.LANG_MAP[browserLang] && TRANSLATIONS_CONFIG[CONFIG.LANG_MAP[browserLang]]) {
                    targetLang = CONFIG.LANG_MAP[browserLang];
                }
            }
            elements.selects.trans.value = targetLang;

            // 3. Reciter
            if (urlParams.has('reciter') && RECITERS_CONFIG[urlParams.get('reciter')]) {
                elements.selects.reciter.value = urlParams.get('reciter');
            } else if (storage.reciter) {
                elements.selects.reciter.value = storage.reciter;
            }

            // 4. Audio Trans (Default to None usually, unless user saved preference)
            if (storage.transAudio) elements.selects.transAudio.value = storage.transAudio;
        }

        function saveState() {
            // Save to LocalStorage
            const dataToSave = {
                chapter: parseInt(elements.selects.chapter.value),
                verse: parseInt(elements.selects.verse.value),
                trans: elements.selects.trans.value,
                reciter: elements.selects.reciter.value,
                transAudio: elements.selects.transAudio.value
            };
            localStorage.setItem('quranPlayerState', JSON.stringify(dataToSave));

            // Update URL (without reload) for SEO/Sharing
            const chapNum = state.quranData[dataToSave.chapter].chapterNumber;
            const verseNum = state.quranData[dataToSave.chapter].verses[dataToSave.verse].verseNumber;
            
            const newUrl = new URL(window.location);
            newUrl.searchParams.set('chapter', chapNum);
            newUrl.searchParams.set('verse', verseNum);
            newUrl.searchParams.set('reciter', dataToSave.reciter);
            newUrl.searchParams.set('trans', dataToSave.trans);
            
            window.history.pushState({ path: newUrl.href }, '', newUrl.href);

            // Trigger Google Analytics Page View for this specific configuration
            gtag('event', 'page_view', {
                page_title: `Surah ${state.quranData[dataToSave.chapter].title} : ${verseNum}`,
                page_location: newUrl.href,
                page_path: `/${chapNum}/${verseNum}` // Virtual path for cleaner analytics
            });
        }

        // ==========================================
        // UI POPULATION
        // ==========================================

        function populateSelects() {
            // Chapters
            elements.selects.chapter.innerHTML = state.quranData.map((c, i) => 
                `<option value="${i}">${c.chapterNumber}. ${c.title}</option>`
            ).join('');

            // Reciters
            elements.selects.reciter.innerHTML = Object.entries(RECITERS_CONFIG).map(([k, v]) => 
                `<option value="${k}">${v.name}</option>`
            ).join('');

            // Translations
            elements.selects.trans.innerHTML = Object.entries(TRANSLATIONS_CONFIG).map(([k, v]) => 
                `<option value="${k}">${v.name}</option>`
            ).join('');
            
            // Audio Translations
            elements.selects.transAudio.innerHTML = Object.entries(TRANSLATION_AUDIO_CONFIG).map(([k, v]) => 
                `<option value="${k}">${v.name}</option>`
            ).join('');
        }

        function populateVerseSelect() {
            const chIdx = elements.selects.chapter.value;
            const verses = state.quranData[chIdx].verses;
            elements.selects.verse.innerHTML = verses.map((v, i) => 
                `<option value="${i}">Ayat ${v.verseNumber}</option>`
            ).join('');
        }

        // ==========================================
        // CORE PLAYER LOGIC
        // ==========================================

        function loadVerse(autoplay = true) {
            const chIdx = elements.selects.chapter.value;
            const vIdx = elements.selects.verse.value;
            
            const chapterObj = state.quranData[chIdx];
            const verseObj = chapterObj.verses[vIdx];
            const chapNum = chapterObj.chapterNumber;
            const verseNum = verseObj.verseNumber;
            
            const verseKey = `${chapNum}-${verseNum}`;
            const isForbidden = state.forbiddenVerses.has(verseKey);

            // 1. Update Title
            elements.display.title.textContent = `${chapterObj.title} (${chapNum})`;
            document.title = `Quran - ${chapterObj.title} : ${verseNum}`;

            // 2. Update Image (with crossfade effect)
            const newSrc = `https://raw.githubusercontent.com/muslim1446/muslim1446.github.io/refs/heads/master/img/${chapNum}_${verseNum}.png`;
            elements.display.verseNext.src = newSrc;
            elements.display.verseNext.onload = () => {
                elements.display.verse.style.opacity = 0;
                elements.display.verseNext.style.display = 'block';
                // slight delay to allow display block to render
                requestAnimationFrame(() => {
                    elements.display.verse.src = newSrc;
                    elements.display.verse.style.opacity = 1;
                    elements.display.verseNext.style.display = 'none';
                });
            };
            if(!elements.display.verse.src) elements.display.verse.src = newSrc; // First load

            // 3. Update Text Translation
            const transId = elements.selects.trans.value;
            let text = "";
            
            if (!isForbidden && state.translations[transId]) {
                const suraEl = state.translations[transId].querySelector(`sura[index="${chapNum}"]`);
                const ayaEl = suraEl ? suraEl.querySelector(`aya[index="${verseNum}"]`) : null;
                text = ayaEl ? ayaEl.getAttribute('text') : "Translation not available.";
            }
            elements.display.trans.textContent = text;
            adjustFontSize();

            // 4. Update Audio Sources
            const reciterKey = elements.selects.reciter.value;
            const reciterPath = RECITERS_CONFIG[reciterKey].path;
            const padChap = String(chapNum).padStart(3, '0');
            const padVerse = String(verseNum).padStart(3, '0');

            elements.quranAudio.src = `https://everyayah.com/data/${reciterPath}/${padChap}${padVerse}.mp3`;
            
            // Trans Audio
            const transAudioKey = elements.selects.transAudio.value;
            if (!isForbidden && transAudioKey !== 'none') {
                const conf = TRANSLATION_AUDIO_CONFIG[transAudioKey];
                let base = conf.path;
                if(base.startsWith('httpIA')) base = base.replace('httpIA', 'https');
                else base = `https://everyayah.com/data/${base}`;
                
                elements.transAudio.src = `${base}/${padChap}${padVerse}.mp3`;
            } else {
                elements.transAudio.src = "";
            }

            // 5. Playback & Metadata
            updateMediaSession(chapterObj.title, verseNum, RECITERS_CONFIG[reciterKey].name);
            saveState(); // Persist changes

            if (autoplay) {
                elements.quranAudio.play().catch(console.warn);
                gtag('event', 'audio_start', { 'reciter': reciterKey, 'surah': chapNum });
            }
        }

        function nextVerse() {
            const totalV = elements.selects.verse.options.length;
            let cV = parseInt(elements.selects.verse.value);
            
            if (cV + 1 < totalV) {
                elements.selects.verse.value = cV + 1;
                loadVerse(true);
            } else {
                // Next chapter
                let cC = parseInt(elements.selects.chapter.value);
                if (cC + 1 < elements.selects.chapter.options.length) {
                    elements.selects.chapter.value = cC + 1;
                    populateVerseSelect();
                    elements.selects.verse.value = 0;
                    loadVerse(true);
                }
            }
        }

        // ==========================================
        // UTILITIES
        // ==========================================
        
        function adjustFontSize() {
            const el = elements.display.trans;
            el.style.fontSize = '3.5rem'; // start max
            // Simple logic: if scrollHeight > clientHeight, reduce font
            // A more complex binary search can be added if needed
            while (el.scrollHeight > el.clientHeight && parseFloat(el.style.fontSize) > 16) {
                el.style.fontSize = (parseFloat(el.style.fontSize) - 1) + "px";
            }
        }

        function updateMediaSession(surah, verse, artist) {
            if ('mediaSession' in navigator) {
                navigator.mediaSession.metadata = new MediaMetadata({
                    title: `Ayat ${verse}`,
                    artist: artist,
                    album: `Surah ${surah}`,
                    artwork: [{ src: 'social-preview.jpg', sizes: '512x512', type: 'image/jpeg' }]
                });
                
                navigator.mediaSession.setActionHandler('nexttrack', nextVerse);
                // prevtrack can be implemented similarly
            }
        }

        function showControls() {
            document.body.classList.remove('idle');
            clearTimeout(inactivityTimer);
            inactivityTimer = setTimeout(() => document.body.classList.add('idle'), 4000);
        }

        function setupEventListeners() {
            // Select Changes
            elements.selects.chapter.addEventListener('change', () => { populateVerseSelect(); loadVerse(true); });
            elements.selects.verse.addEventListener('change', () => loadVerse(true));
            elements.selects.reciter.addEventListener('change', () => loadVerse(state.isPlaying)); // don't force play if paused
            elements.selects.trans.addEventListener('change', () => { loadVerse(false); });
            elements.selects.transAudio.addEventListener('change', () => loadVerse(false));

            // Audio Events
            elements.quranAudio.addEventListener('ended', () => {
                if (elements.transAudio.src && elements.transAudio.src !== window.location.href) {
                    elements.transAudio.play().catch(() => nextVerse());
                } else {
                    nextVerse();
                }
            });
            elements.transAudio.addEventListener('ended', nextVerse);
            
            elements.quranAudio.addEventListener('play', () => state.isPlaying = true);
            elements.quranAudio.addEventListener('pause', () => state.isPlaying = false);

            // UI Interaction
            ['mousemove', 'touchstart', 'click', 'keydown'].forEach(e => 
                window.addEventListener(e, showControls)
            );
            
            window.addEventListener('resize', () => {
                document.documentElement.style.setProperty('--vh', `${window.innerHeight}px`);
                adjustFontSize();
            });
            document.documentElement.style.setProperty('--vh', `${window.innerHeight}px`);
        }

        // Start
        document.addEventListener('DOMContentLoaded', initializeApp);

    </script>
</body>
</html>
